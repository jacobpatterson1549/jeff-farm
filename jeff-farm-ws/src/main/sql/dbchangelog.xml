<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<changeSet id="tables" author="jacobpatterson1549" runOnChange="true">
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/users.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/roles.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/user_roles.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/farms.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/hives.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/hive_inspections.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/poultry.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/poultry_inspection_groups.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/poultry_inspections.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="tables/farm_permissions.sql"/>
	</changeSet>

	<changeSet id="readonlytables" author="jacobpatterson1549" runOnChange="true">
		<comment>Tables used as return types of functions.</comment>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="readonly-tables/farm_permissions_readonly.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="readonly-tables/poultry_inspections_readonly.sql"/>
	</changeSet>

	<changeSet id="audit-trigger-tables" author="jacobpatterson1549" runOnChange="true">
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="audit-trigger-tables/users_audit.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="audit-trigger-tables/farms_audit.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="audit-trigger-tables/hives_audit.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="audit-trigger-tables/hive_inspections_audit.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="audit-trigger-tables/poultry_audit.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="audit-trigger-tables/poultry_inspection_groups_audit.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="audit-trigger-tables/poultry_inspections_audit.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="audit-trigger-tables/farm_permissions_audit.sql"/>
	</changeSet>

	<changeSet id="functions" author="jacobpatterson1549" runOnChange="true"> <!-- TODO: separate changesets, with comments about ordering (permission_checks first, can_deletes before deletes... -->
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/set_user_id.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/permission_check/permission_check_farm.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/permission_check/permission_check_farm_permission.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/permission_check/permission_check_hive.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/permission_check/permission_check_hive_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/permission_check/permission_check_poultry.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/permission_check/permission_check_poultry_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/permission_check/permission_check_poultry_inspection_group.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/permission_check/permission_check_user.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/can-delete/can_delete_farm.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/can-delete/can_delete_farm_permission.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/can-delete/can_delete_hive.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/can-delete/can_delete_poultry.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/can-delete/can_delete_user.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/create/create_user.sql"/> <!-- TODO: reorder these files to be in directory order -->
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/create/create_farm.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/create/create_farm_permission.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/create/create_hive.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/create/create_hive_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/create/create_poultry.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/create/create_poultry_inspection_group.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/create/create_poultry_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_user_from_user_name.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_user.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_farm.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_farm_permission.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_hive.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_hive_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_poultry.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_poultry_inspection_group.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read/read_poultry_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read-list/read_farms.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read-list/read_farm_permissions.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read-list/read_hives.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read-list/read_hive_inspections.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read-list/read_poultry_list.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read-list/read_poultry_inspections_for_farm.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read-list/read_poultry_inspections_for_group.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/read-list/read_poultry_inspection_groups.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/update/update_user.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/update/update_farm.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/update/update_hive.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/update/update_hive_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/update/update_poultry.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/update/update_poultry_inspection_group.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/update/update_poultry_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_user.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_farm.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_farm_permission.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_hive.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_hive_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_poultry.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_poultry_inspection.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_poultry_inspection_group.sql"/>
		<sqlFile relativeToChangelogFile="true" splitStatements="false" path="functions/delete/delete_poultry_inspections.sql"/>
	</changeSet>

</databaseChangeLog>
